## proxy란
프록시란 서버와 클라이언트 사이에 중계기로서 대리로 통신을 수행하는 것을 가리킨다.클라이언트가 프록시 서버를 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해준다. 

![proxy](https://user-images.githubusercontent.com/64240637/119326335-c3378000-bcbc-11eb-957c-955e8187305a.png)

클라이언트가 요청을 보내면 프록시 서버에서 웹 서버에 접근해 요청과 응답을 처리한 후 프록시 서버에서 다시 클라이언트에게 응답을 해준다. __마치 클라이언트에서는 프록시서버가 서버처럼 동작하는 것으로 보이고 서버에서는 프록시 서버가 클라이언트처럼 동작하는 것으로 보인다__       

__간단하게 정리해보자면 프록시는 대신 일을 처리하는 서버이다__   

<br>


## proxy 특징(캐시,보안, 트래픽 분산등의 장점을 가질 수 있다)
- 시간 절약    
프록시 서버에는 클라이언트와 서버가 주고받은 데이터들이 저장되어 있기 때문에 동일한 데이터를 요청하는 경우 프록시에 캐싱되어 있던 데이터를 반환하여 전송하는 시간을 절약해준다    

- 개인정보 보호
ip, 쿠키등 신원을 확인할 수 있는 정보들을 제거하기 때문에 익명성을 보호할 수 있다. 하지만 이러한 특징은 유해 사이트에서 ip를 추적당하지 않게 우회하기 위한 용도로 사용되고 있는 문제가 있다     

- 방화벽 역할을 담당
외부통신이 이루어질때 모든 데이터 흐름이 프록시 서버를 거치게 되어, 유해사이트 차단이나 외부침입을 방지해준다    

<br>

## proxy 종류

###  Forward Proxy
일반적으로 불리는 Proxy는 Forward Proxy이다. 예를 들어보자면 ```인터넷 속도 향상위해 proxy 설정해라```, ```ip추적을 방지하기 위해 해커범들이 proxy설정을 했다```등 대부분의 proxy 얘기는 Forward Proxy라고 보면 된다. 클라이언트가 서버로 요청할때 직접 요청하지 않고 프록시 서버를 통해 요청하는 방식이다. Forward Proxy에서 프록시 서버는 클라이언트와 인터넷 사이에 존재한다    
![forward](https://user-images.githubusercontent.com/64240637/119330538-4529a800-bcc1-11eb-8f87-fcd262e7f286.png)

<br>


#### 특징
__```캐싱```__      

클라이언트가 요청한 내용을 캐싱한다. 프록시 서버에 클라이언트와 서버가 주고받은 데이터들이 저장되어 있기 때문에 클라이언트가 동일한 데이터를 요청하는 경우 프록시에 캐싱되어 있던 데이터를 반환하여 ```전송하는 시간을 절약해준다``` 또한 ```외부 요청이 감소되기 때문에 네트워크 병목현상을 방지 할 수 있다```    

__```익명성```__    

프록시 서버에서 클라이언트의 ip, 쿠키등 신원을 확인할 수 있는 정보들을 제거하기 때문에 익명성을 보호할 수 있다.(서버가 받은 요청 ip는 프록시 ip이다) 하지만 이러한 특징은 유해 사이트에서 ip를 추적당하지 않게 우회하기 위한 용도로 사용되고 있는 문제가 있다     

<br>

###  Reverse Proxy
프록시 서버가 서버 바로 앞단에 위치해 서버들을 제어하고 보호한다. 클라이언트가 요청을 하면 프록시 서버가 적합한 서버에 데이터를 요청을 전달하고 응답된 데이터를 받아 전달한다. 리버스 프록시 서버는 실제 서버들에 대한 주소를 매핑하고 있어야한다. 클라이언트가 요청했을때 이에 맞는 서버를 찾아 리소스를 전달해주기 때문이다

![reverse](https://user-images.githubusercontent.com/64240637/119330581-507cd380-bcc1-11eb-9a48-c306f1a0ddc6.png)

<br>

#### 특징
__```캐싱```__      

Forward Proxy와 동일하다      

__```보안```__    
client는 Reverse Proxy를 실제 서버라고 생각하여 요청하기 때문에 실제 서버의 ip를 알 수 없다    

__```Load Balancing```__    
로드 밸런스는 해야할 작업을 나누어 서버의 부하를 분산시키는 역할을 한다. 서버를 여러대로 분산시켜 들어온 요청에 알맞은 서버로 요청을 보내주기 때문에 서버의 트래픽을 분산시켜준다. 

<br>


### Load Balancing
로드밸런싱은 한대의 특정 서버에 많은 양의 사용자가 접속함으로써 발생하는 시스템 부하, 속도 저하, 서버 다운 등의 문제를 해결하기 위해 두대 이상의 서버 구성을 통해 안정적인 사이트 운영을 보장하는 부하분산 서비스이다    

- L4 로드밸런싱    
L4 계층에서 동작하는 로드밸런서는 네트워크 계층(ip)이나 전송계층(tcp/udp)의 정보를 바탕으로 로드를 분산한다.

- L7 로드밸런싱     
L7 계층에서 동작하는 로드밸런서는 애플리케이션 계층(http, ftp, smtp)에서 프로토콜을 기반으로 로드를 분산하기 때문에 http 헤더, 쿠키등과 같은 사용자의 요청을 기준으로 특정 서버에 트래픽을 분산한다. 즉 패킷의 내용을 확인하고 그 내용에 따라 로드를 특정 서버에 분배하는 것이 가능하다. 예를 들어 url 주소를 기반으로 서버를 나누어 연결해준다





[proxy 이미지 참고](https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/)